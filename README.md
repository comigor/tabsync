# tabsync

Sync open tabs with other devices seamlessly.


## How to use
* Create a new project on [Supabase](https://supabase.com/)
* Copy project ID and anon key
* Create a new table `tabs` with the following schema:
```
create table
  public.tabs (
    id bigint generated by default as identity not null,
    title text null,
    url text not null,
    pinned boolean not null default false,
    "openerTabId" bigint null,
    "sharedId" text not null,
    constraint tabs_pkey primary key (id),
    constraint tabs_sharedId_key unique ("sharedId")
  ) tablespace pg_default;
```
* Set policy to allow this anon key to have all access (because I'm too lazy to setup proper auth):
```
alter policy "Enable full access for all users"
on "public"."tabs"
to public
using ( true );
```
* Install this extension (go to `about:debugging` > This Firefox > Load Temporary Add-on...)
* Click on the extension icon and persist Supabase project ID and anon key
* Click on full sync button to do the initial sync

## References

- used [https://github.com/conceptualspace/tablist](tablist) addon as starting point
- about:debugging
- https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/onUpdated
- https://stackoverflow.com/a/21131034
